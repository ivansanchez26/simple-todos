
  <template name="uploadForm">
    
    <form class="formularioSubida">
      <input id="nameInput" name="nameInput" type="text" placeholder="Name" required/><br>
      <input id="descriptionInput" name ="descriptionInput" type="text" placeholder="Description" required/><br>
      
      <select name="difficultyNumbers" id="difficultyNumbers"><br>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
      </select>
      {{#each number in difficultyList}}
        <br><input id="difficulty{{number}}" name ="difficulty{{number}}" type="number" placeholder="Difficulty{{number}}" min="1" max="20" required/>
      {{/each}}
      {{#with currentUpload}}
        Uploading <b>{{file.name}}</b>: 
        <span id="progress">{{progress.get}}%</span>
        <div class="progress">
          <div class="progress-bar" role="progressbar" aria-valuenow="{{progress.get}}" aria-valuemin="0" aria-valuemax="100" style="width:{{progress.get}}%">
            <span class="sr-only">{{progress.get}}% Complete</span>
          </div>
        </div>
      {{else}}
        <input id="fileInput" type="file" />
        <p><small>Upload file in <code>zip</code> or <code>rar</code> format, with size less or equal to 100MB</small></p>
      {{/with}}
      {{#if imageUpload}}
        <ul>
          <span id="progress">{{imageUpload.progress}}%</span>
        </ul>
      {{else}}
        <p>Insert Image</p>
        <input id="imageInput" type="file" />
      {{/if}}

      {{#each file in imageUploaded.each}}
        <!--Busca los datos de la cancion en la coleccion de Mongo buscando por el id del archivo-->
        
          
          <img src="{{file.link}}" alt="hola" class="img-rounded" width="200"/>
          <p>---------------------------------------------------------------------------------</p>
      {{/each}}

      <input id="submitInput" type="submit"/>
    </form>
    
  </template>
  

  <template name="uploadedFiles">
    <!-- example to show iteration of songs-->
    {{#each uploadedSongs}}
      {{> Song}}
    {{/each}}
    
  </template>

  <!--Single Song attributes to show, collected from Mongo Collection-->
  <template name="Song">
    <li><strong>Name:</strong> {{name}} </li>
    <strong>Description:</strong> {{description}}<br>
    <strong>FileName: </strong>{{fileName}}<br>
    <strong>Size: </strong>{{size}} MB<br>
    <strong>Uploaded by: </strong>{{username}}<br>
    {{#each dif in difficulties}}
      <p>{{dif}}</p>
    {{/each}}
    {{#let idImagen=imageId }}
      {{#with buscarImagenArchivo idImagen}}
        <p>{{> ShowImage}}</p>
      {{/with}}
    {{/let}}
    {{#let idArchivo=fileId }}
      {{#with buscarArchivo idArchivo}}
        <p>{{> ShowFileDownload}}</p>
      {{/with}}
    {{/let}}
  </template>


  <template name="ShowImage">
    <img src="{{link}}" alt="hola" class="img-rounded" width="200"/>
  </template>
  <template name="ShowFileDownload">
    <a href="{{link}}?download=true" download="{{name}}">{{name}}</a>
  </template>

